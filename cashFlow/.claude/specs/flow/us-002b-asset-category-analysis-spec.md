# US-002B: èµ„äº§ç±»åˆ«ç»´åº¦åˆ†æ - ç‹¬ç«‹è§„æ ¼è¯´æ˜ä¹¦

## æ¦‚è¿°

### ä¸šåŠ¡èƒŒæ™¯
èµ„äº§ç±»åˆ«ç»´åº¦åˆ†ææ˜¯å…¨çƒèµ„é‡‘æµåŠ¨ç›‘æ§ç³»ç»Ÿçš„æ ¸å¿ƒåŠŸèƒ½ä¹‹ä¸€ï¼Œæ—¨åœ¨æä¾›å…¨é¢çš„èµ„äº§ç±»åˆ«èµ„é‡‘æµå‘æ´å¯Ÿï¼Œå¸®åŠ©æŠ•èµ„ç»ç†äº†è§£ä¸åŒèµ„äº§ç±»åˆ«çš„èµ„é‡‘é…ç½®å˜åŒ–å’Œå¸‚åœºåå¥½ã€‚

### é¡¹ç›®ç›®æ ‡
- å»ºç«‹å®Œæ•´çš„èµ„äº§ç±»åˆ«èµ„é‡‘æµåŠ¨åˆ†æä½“ç³»
- æ”¯æŒ9å¤§ä¸»è¦èµ„äº§ç±»åˆ«çš„æ·±åº¦åˆ†æ
- æä¾›å®æ—¶å’Œå†å²èµ„é‡‘æµå‘æ•°æ®
- å®ç°å¤šç»´åº¦äº¤å‰åˆ†æå’Œå¯¹æ¯”åŠŸèƒ½
- æ„å»ºæ™ºèƒ½é¢„è­¦å’Œå¼‚å¸¸æ£€æµ‹æœºåˆ¶

## ç”¨æˆ·æ•…äº‹å±‚æ¬¡ç»“æ„

### çˆ¶æ•…äº‹
**US-002B: èµ„äº§ç±»åˆ«ç»´åº¦åˆ†æ**

**ä½œä¸º** æŠ•èµ„ç»ç†  
**æˆ‘å¸Œæœ›** èƒ½å¤ŸæŒ‰èµ„äº§ç±»åˆ«æŸ¥çœ‹èµ„é‡‘æµå‘ï¼ˆè‚¡ç¥¨ã€å€ºåˆ¸ã€å¤–æ±‡ã€å¤§å®—å•†å“ç­‰ä¸»è¦ç±»åˆ«ï¼‰  
**ä»¥ä¾¿äº** äº†è§£ä¸åŒèµ„äº§ç±»åˆ«çš„èµ„é‡‘é…ç½®å˜åŒ–å’Œå¸‚åœºåå¥½

### å­æ•…äº‹æ‹†åˆ†

#### US-002B-1: è‚¡ç¥¨ç±»åˆ«èµ„é‡‘æµå‘åˆ†æ â­
**ä½œä¸º** æŠ•èµ„ç»ç†  
**æˆ‘å¸Œæœ›** æŸ¥çœ‹è‚¡ç¥¨ç±»åˆ«çš„èµ„é‡‘æµå‘æ•°æ®  
**ä»¥ä¾¿äº** äº†è§£å…¨çƒè‚¡å¸‚çš„èµ„é‡‘é…ç½®æƒ…å†µ

**å­æ•…äº‹:**
- US-002B-1A: è‚¡ç¥¨æ•°æ®é‡‡é›†
- US-002B-1B: è‚¡ç¥¨æ•°æ®åŠ å·¥  
- US-002B-1C: è‚¡ç¥¨èµ„é‡‘æµå‘æ•°æ®æŸ¥è¯¢

##### US-002B-1A: è‚¡ç¥¨æ•°æ®é‡‡é›†
**ä½œä¸º** ç³»ç»Ÿç®¡ç†å‘˜  
**æˆ‘å¸Œæœ›** ç³»ç»Ÿèƒ½å¤Ÿä»å¤šä¸ªæ•°æ®æºè‡ªåŠ¨é‡‡é›†è‚¡ç¥¨åŸå§‹æ•°æ®  
**ä»¥ä¾¿äº** ä¸ºåç»­æ•°æ®åŠ å·¥æä¾›å……è¶³çš„åŸå§‹æ•°æ®åŸºç¡€

#### æ•°æ®é‡‡é›†éœ€æ±‚è¯¦ç»†å®šä¹‰

##### éœ€è¦é‡‡é›†çš„æ•°æ®ç±»å‹

**æ ¸å¿ƒæŒ‡æ•°æ•°æ®:**
- **æŒ‡æ•°OHLCVæ•°æ®**: å¼€ç›˜ä»·ã€æœ€é«˜ä»·ã€æœ€ä½ä»·ã€æ”¶ç›˜ä»·ã€æˆäº¤é‡
- **ETFèµ„é‡‘æµæ•°æ®**: 
  - ç›´æ¥æ•°æ®: ETFæ—¥å‡€æµå…¥/æµå‡ºã€ç”³è´­èµå›å•ä½æ•°
  - è®¡ç®—æ•°æ®: åŸºäºETFæ¨ç®—çš„æŒ‡æ•°èµ„é‡‘æµå‘
- **æŒ‡æ•°æˆä»½å˜åŒ–**: æˆä»½è‚¡è°ƒæ•´ã€æƒé‡å˜åŒ–  
- **è·¨å¸‚åœºæ•°æ®**: æœŸè´§æŒä»“å˜åŒ–ã€æœŸæƒæµå‘æ•°æ®

**æŒ‡æ•°å…ƒæ•°æ®:**
- **åŸºæœ¬ä¿¡æ¯**: æŒ‡æ•°ä»£ç ã€åç§°ã€äº¤æ˜“æ‰€ã€åŸºå‡†æ—¥æœŸ
- **åˆ†ç±»ä¿¡æ¯**: å¸‚åœºåˆ†ç±»(å‘è¾¾/æ–°å…´)ã€è¡Œä¸šåˆ†ç±»ã€é£æ ¼åˆ†ç±»  
- **åœ°ç†ä¿¡æ¯**: æ‰€å±å›½å®¶/åœ°åŒºã€æ—¶åŒºã€è´§å¸
- **æŒ‡æ•°å±æ€§**: åŸºç‚¹ã€æƒé‡æ–¹æ³•ã€æˆä»½è‚¡æ•°é‡ã€å¸‚å€¼

##### 13ç»´åº¦æ•°æ®æ˜ å°„

| ç»´åº¦ | æ‰€éœ€æ•°æ®å­—æ®µ | æ•°æ®æ¥æº |
|------|-------------|----------|
| **åœ°ç†ç»´åº¦** | æŒ‡æ•°æ‰€å±å›½å®¶/åœ°åŒºã€äº¤æ˜“æ‰€ä½ç½® | æŒ‡æ•°åŸºæœ¬ä¿¡æ¯ |
| **è´§å¸ç»´åº¦** | æŒ‡æ•°è®¡ä»·è´§å¸ã€æ±‡ç‡è½¬æ¢ | äº¤æ˜“æ‰€æ•°æ®ã€æ±‡ç‡API |
| **å¸‚å€¼ç»´åº¦** | å¤§ç›˜è‚¡æŒ‡æ•°(SPY)ã€ä¸­ç›˜è‚¡(MDY)ã€å°ç›˜è‚¡(IWM) | ä¸åŒå¸‚å€¼æŒ‡æ•°å¯¹æ¯” |
| **é£æ ¼ç»´åº¦** | æˆé•¿å‹æŒ‡æ•°ã€ä»·å€¼å‹æŒ‡æ•°ã€è‚¡æ¯æŒ‡æ•° | é£æ ¼åˆ†ç±»æŒ‡æ•° |
| **è¡Œä¸šç»´åº¦** | 11ä¸ªè¡Œä¸šETF(XLK/XLF/XLVç­‰) | è¡Œä¸šåˆ†ç±»ETF |
| **è·¨å¢ƒç»´åº¦** | æœ¬åœŸæŒ‡æ•° vs å…¨çƒæŒ‡æ•°ã€è·¨å¢ƒETF | MSCIæŒ‡æ•°ã€è·¨å¢ƒETF |
| **æ—¶åŒºç»´åº¦** | æŒ‡æ•°äº¤æ˜“æ—¶åŒºã€ä¸»è¦äº¤æ˜“æ—¶æ®µ | äº¤æ˜“æ‰€æ—¶åŒºä¿¡æ¯ |
| **æ•°æ®æºç»´åº¦** | æ•°æ®æä¾›å•†ã€æŒ‡æ•°å‘å¸ƒæœºæ„ | æŒ‡æ•°å…¬å¸ã€æ•°æ®ä¾›åº”å•† |
| **æ—¶é—´ç»´åº¦** | äº¤æ˜“æ—¶é—´ã€æ”¶ç›˜æ—¶é—´ã€èŠ‚å‡æ—¥ | äº¤æ˜“æ—¥å† |
| **é£é™©æƒ…ç»ªç»´åº¦** | VIXæŒ‡æ•°ã€æ³¢åŠ¨ç‡æŒ‡æ•° | ææ…ŒæŒ‡æ•°ã€æ³¢åŠ¨ç‡æŒ‡æ ‡ |
| **æµåŠ¨æ€§ç»´åº¦** | æŒ‡æ•°æˆäº¤é‡ã€ETFæµåŠ¨æ€§ | äº¤æ˜“é‡æ•°æ® |
| **åœ°ç¼˜æ”¿æ²»ç»´åº¦** | å‘è¾¾å¸‚åœº vs æ–°å…´å¸‚åœº | å¸‚åœºåˆ†ç±»æ ‡å‡† |
| **è´¨é‡ç»´åº¦** | æŒ‡æ•°æ•°æ®å®Œæ•´æ€§ã€æ›´æ–°åŠæ—¶æ€§ | æ•°æ®è´¨é‡ç›‘æ§ |

##### æŒ‡æ•°å‡€æµå…¥æ•°æ®è·å–ç­–ç•¥

**ç›´æ¥è·å–ETFå‡€æµå…¥æ•°æ® (30ä¸ª):**
```yaml
us-etfs-direct-flows:
  å¸‚åœºETF: [SPY, QQQ, IWM, VTI, DIA, MDY]
  è¡Œä¸šETF: [XLK, XLF, XLV, XLE, XLY, XLP, XLI, XLB, XLU, XLRE, XLC]
  å›½é™…ETF: [EWJ, EWG, EWU, FXI, ASHR, EWY, EWZ, etc.]
  æ•°æ®å­—æ®µ:
    - daily_net_inflow: æ—¥å‡€æµå…¥é‡‘é¢
    - shares_outstanding: æµé€šä»½é¢
    - creation_units: ç”³è´­å•ä½æ•°
    - redemption_units: èµå›å•ä½æ•°
  æ•°æ®æº: ETF.com, Morningstar, Bloomberg ETF
```

**é€šè¿‡ç›¸å…³ETFæ¨ç®—æŒ‡æ•°æµå‘ (12ä¸ª):**
```yaml
index-flow-calculation:
  ä¸­å›½æŒ‡æ•°:
    - ä¸Šè¯æŒ‡æ•° â† é€šè¿‡FXI, ASHR ETFæ¨ç®—
    - æ·±è¯æˆæŒ‡ â† é€šè¿‡ASHR, 159901æ¨ç®—
    - åˆ›ä¸šæ¿æŒ‡ â† é€šè¿‡159915, 159952æ¨ç®—
    
  å…¶ä»–æŒ‡æ•°:
    - æ—¥ç»225 â† é€šè¿‡EWJ, 1329.Tæ¨ç®—
    - æ’ç”ŸæŒ‡æ•° â† é€šè¿‡2800.HK, FXIæ¨ç®—
    - æ¬§æ´²æŒ‡æ•° â† é€šè¿‡EWG, EWU, EWQæ¨ç®—
  
  è®¡ç®—æ–¹æ³•:
    æŒ‡æ•°å‡€æµå…¥ = Î£(ç›¸å…³ETFå‡€æµå…¥ Ã— æŒ‡æ•°æƒé‡)
```

##### æ•°æ®æºé…ç½®

**ETFå‡€æµå…¥æ•°æ®æºï¼ˆå…è´¹ï¼‰:**
```yaml
free-etf-sources:
  etf-com:
    api-key: not-required
    rate-limit: 1000-calls/day
    coverage: ç¾å›½ä¸»è¦ETF
    data-types: [æ—¥å‡€æµå…¥, ç”³è´­èµå›, AUMå˜åŒ–]
    
  yahoo-finance:
    rate-limit: 2000-calls/hour  
    coverage: å…¨çƒæŒ‡æ•°å’ŒETF
    data-types: [æŒ‡æ•°OHLCV, ETFåŸºæœ¬ä¿¡æ¯]
    
  morningstar-basic:
    coverage: å…¨çƒETF
    data-types: [ETFæµå‘, æŒä»“æ•°æ®]
    limitations: å»¶è¿Ÿ1å¤©
```

**ä¸“ä¸šETFæ•°æ®æºï¼ˆä»˜è´¹ï¼‰:**
```yaml
paid-etf-sources:
  bloomberg-etf:
    coverage: å…¨çƒETF
    data-types: [å®æ—¶ETFæµå‘, æœºæ„æŒä»“, è¡ç”Ÿå“æ•°æ®]
    latency: <30åˆ†é’Ÿ
    cost: é«˜
    
  morningstar-direct:
    coverage: å…¨çƒETFè¯¦ç»†æ•°æ®
    data-types: [å®æ—¶å‡€æµå…¥, æˆä»½è‚¡æµå‘, é£é™©æŒ‡æ ‡]
    latency: <1å°æ—¶
    cost: ä¸­
    
  refinitiv-lipper:
    coverage: ETFå’ŒåŸºé‡‘æ•°æ®
    data-types: [æµå‘åˆ†æ, åŒç±»å¯¹æ¯”, ä¸šç»©å½’å› ]
    quality: æœºæ„çº§
    cost: é«˜
```

**æŒ‡æ•°æ•°æ®æº:**
```yaml
index-sources:
  alpha-vantage:
    coverage: å…¨çƒä¸»è¦æŒ‡æ•°OHLCV
    data-types: [æŒ‡æ•°ä»·æ ¼, åŸºæœ¬ä¿¡æ¯]
    
  investing-com:
    coverage: å…¨çƒæŒ‡æ•°å®æ—¶æ•°æ®
    data-types: [æŒ‡æ•°OHLCV, æŠ€æœ¯æŒ‡æ ‡]
    
  eastmoney:
    coverage: ä¸­å›½æŒ‡æ•°
    data-types: [æŒ‡æ•°OHLCV, æˆä»½è‚¡æ•°æ®]
```

**éªŒæ”¶æ ‡å‡†:**
- WHEN ç³»ç»Ÿå¯åŠ¨æ—¶ THEN åº”æˆåŠŸè¿æ¥è‡³å°‘2ä¸ªå¤–éƒ¨æ•°æ®æºï¼ˆä¸œæ–¹è´¢å¯Œã€Yahoo Financeç­‰ï¼‰
- WHEN æ•°æ®é‡‡é›†è¿è¡Œæ—¶ THEN ç³»ç»Ÿåº”æ¯5åˆ†é’Ÿä»å„æ•°æ®æºè·å–æœ€æ–°42ä¸ªæŒ‡æ•°æ•°æ®
- WHEN æ¥æ”¶åˆ°æ•°æ®æºå“åº”æ—¶ THEN ç³»ç»Ÿåº”å°†æŒ‡æ•°åŸå§‹æ•°æ®æš‚å­˜åˆ°æ•°æ®ç¼“å†²åŒº
- WHEN æ•°æ®æºä¸å¯ç”¨æ—¶ THEN ç³»ç»Ÿåº”è‡ªåŠ¨åˆ‡æ¢åˆ°å¤‡ç”¨æ•°æ®æºå¹¶è®°å½•å‘Šè­¦
- WHEN é‡‡é›†å®Œæˆæ—¶ THEN ç³»ç»Ÿåº”è®°å½•é‡‡é›†ç»Ÿè®¡ä¿¡æ¯ï¼ˆæˆåŠŸç‡ã€å»¶è¿Ÿã€æŒ‡æ•°è¦†ç›–ç‡ï¼‰

#### æ•°æ®è´¨é‡éªŒæ”¶æ ‡å‡†

**æ•°æ®å®Œæ•´æ€§éªŒæ”¶:**
```yaml
completeness-tests:
  index-ohlcv-data:
    - test: "éªŒè¯æŒ‡æ•°OHLCVæ•°æ®æ— ç¼ºå¤±"
      condition: "HIGH >= LOW AND OPEN,CLOSE BETWEEN LOW,HIGH"
      threshold: "99.5%"
      
  etf-volume-data:
    - test: "éªŒè¯ETFæˆäº¤é‡ä¸ºæ­£æ•°"
      condition: "VOLUME >= 0"
      threshold: "100%"
      
  timestamp-data:
    - test: "éªŒè¯æ—¶é—´æˆ³æ ¼å¼å’Œæ—¶åŒº"
      condition: "TIMESTAMP IS VALID AND TIMEZONE CONSISTENT"
      threshold: "100%"
```

**æ•°æ®è´¨é‡éªŒæ”¶:**
```yaml
quality-tests:
  index-validation:
    - test: "æŒ‡æ•°ä»·æ ¼å¼‚å¸¸æ£€æµ‹"
      condition: "|INDEX_CHANGE| < 20% OR HAS_MARKET_EVENT"
      threshold: "99.9%"
      
  etf-flow-validation:
    - test: "ETFèµ„é‡‘æµæ•°æ®ä¸€è‡´æ€§"
      condition: "NET_INFLOW = INFLOW - OUTFLOW"
      threshold: "100%"
      
  cross-source-validation:
    - test: "å¤šæºæŒ‡æ•°æ•°æ®ä¸€è‡´æ€§"
      condition: "ABS(SOURCE1_INDEX - SOURCE2_INDEX) / SOURCE1_INDEX < 0.05%"
      threshold: "98%"
```

**13ç»´åº¦åˆ†ç±»éªŒæ”¶:**
```yaml
dimension-tests:
  geographic:
    - test: "åœ°ç†ç»´åº¦åˆ†ç±»å‡†ç¡®æ€§"
      sample-size: 42
      manual-verification: true
      target-accuracy: "100%"
      
  market-cap:
    - test: "å¸‚å€¼ç»´åº¦åˆ†ç±»æ­£ç¡®æ€§"
      condition: "SPY=å¤§ç›˜è‚¡, MDY=ä¸­ç›˜è‚¡, IWM=å°ç›˜è‚¡"
      threshold: "100%"
      
  sector:
    - test: "è¡Œä¸šç»´åº¦åˆ†ç±»æ ‡å‡†åŒ–"
      condition: "11ä¸ªè¡Œä¸šETFåˆ†ç±»æ­£ç¡®"
      threshold: "100%"
```

#### ç›‘æ§æŒ‡æ ‡

**é‡‡é›†æ€§èƒ½æŒ‡æ ‡:**
```yaml
performance-kpis:
  collection-success-rate:
    target: ">99.5%"
    calculation: "æˆåŠŸé‡‡é›†æŒ‡æ•°æ¬¡æ•° / æ€»é‡‡é›†æ¬¡æ•°"
    
  index-coverage:
    target: ">95%"
    calculation: "æœ‰æ•°æ®çš„æŒ‡æ•°æ•° / ç›®æ ‡42ä¸ªæŒ‡æ•°"
    
  average-latency:
    target: "<2ç§’"
    calculation: "å¹³å‡æŒ‡æ•°æ•°æ®é‡‡é›†å»¶è¿Ÿ"
    
  api-quota-usage:
    target: "<50%"
    calculation: "å·²ä½¿ç”¨APIè°ƒç”¨ / APIé…é¢"
```

**æ•°æ®è´¨é‡æŒ‡æ ‡:**
```yaml
quality-kpis:
  data-accuracy:
    target: ">99.5%"
    calculation: "é€šè¿‡éªŒè¯çš„æŒ‡æ•°è®°å½•æ•° / æ€»è®°å½•æ•°"
    
  duplicate-rate:
    target: "<0.01%"
    calculation: "é‡å¤æŒ‡æ•°è®°å½•æ•° / æ€»è®°å½•æ•°"
    
  missing-data-rate:
    target: "<0.5%"
    calculation: "ç¼ºå¤±æŒ‡æ•°å­—æ®µæ•° / æ€»å­—æ®µæ•°"
```

#### å®æ–½ä¼˜å…ˆçº§ - å¸‚åœºæŒ‡æ•°é‡‡é›†æ–¹æ¡ˆ

**ç¬¬ä¸€æ‰¹é‡‡é›†ï¼ˆé«˜ä¼˜å…ˆçº§ï¼‰:**
- **ç¾è‚¡æŒ‡æ•°**: SPY(S&P500), QQQ(NASDAQ100), IWM(Russell2000)
- **ä¸­å›½æŒ‡æ•°**: 000001(ä¸Šè¯æŒ‡æ•°), 399001(æ·±è¯æˆæŒ‡), 399006(åˆ›ä¸šæ¿æŒ‡)
- **æ¸¯è‚¡æŒ‡æ•°**: HSI(æ’ç”ŸæŒ‡æ•°), HSCEI(æ’ç”Ÿå›½ä¼æŒ‡æ•°)
- **æ•°æ®ç±»å‹**: æŒ‡æ•°OHLCV + ETFèµ„é‡‘æµ + å¸‚åœºå…ƒæ•°æ®

**ç¬¬äºŒæ‰¹é‡‡é›†ï¼ˆä¸­ä¼˜å…ˆçº§ï¼‰:**
- **æ¬§æ´²æŒ‡æ•°**: SX5E(æ¬§æ´²STOXX50), UKX(è‹±å›½FTSE100), DAX(å¾·å›½DAX30)
- **æ—¥æœ¬æŒ‡æ•°**: NKY(æ—¥ç»225), TPX(ä¸œè¯æŒ‡æ•°)
- **æ•°æ®ç±»å‹**: å¢åŠ æœŸè´§æ•°æ® + è·¨å¢ƒèµ„é‡‘æµ

**ç¬¬ä¸‰æ‰¹é‡‡é›†ï¼ˆæ‰©å±•è¦†ç›–ï¼‰:**
- **æ–°å…´å¸‚åœºæŒ‡æ•°**: SENSEX(å°åº¦), IBOV(å·´è¥¿), KOSPI(éŸ©å›½), RTS(ä¿„ç½—æ–¯)
- **è¡Œä¸šæŒ‡æ•°**: ç§‘æŠ€ã€é‡‘èã€èƒ½æºã€åŒ»ç–—ç­‰ä¸»è¦è¡Œä¸šETF
- **æ•°æ®ç±»å‹**: å®Œæ•´13ç»´åº¦åˆ†ç±»æ•°æ®

#### æŒ‡æ•°é‡‡é›†è¯¦ç»†æ¸…å•

**æ ¸å¿ƒå¸‚åœºæŒ‡æ•° (23ä¸ª):**
```yaml
tier1-indices:
  åŒ—ç¾ (6ä¸ª):
    - SPY: SPDR S&P 500 ETF
    - QQQ: Invesco QQQ ETF (NASDAQ-100)
    - IWM: iShares Russell 2000 ETF
    - VTI: Vanguard Total Stock Market ETF
    - DIA: SPDR Dow Jones Industrial Average ETF
    - MDY: SPDR S&P MidCap 400 ETF
    
  ä¸­å›½ (5ä¸ª):
    - 000001.SS: ä¸Šè¯ç»¼åˆæŒ‡æ•°
    - 399001.SZ: æ·±è¯æˆä»½æŒ‡æ•°
    - 399006.SZ: åˆ›ä¸šæ¿æŒ‡æ•°
    - 000016.SS: ä¸Šè¯50æŒ‡æ•°
    - HSI: æ’ç”ŸæŒ‡æ•°
    
  æ¬§æ´² (7ä¸ª):
    - SX5E: Euro STOXX 50
    - UKX: FTSE 100 (è‹±å›½)
    - DAX: DAX 30 (å¾·å›½)
    - CAC: CAC 40 (æ³•å›½)
    - IBEX: IBEX 35 (è¥¿ç­ç‰™)
    - AEX: AEX 25 (è·å…°)
    - SMI: Swiss Market Index
    
  äºšå¤ªå…¶ä»– (5ä¸ª):
    - NKY: Nikkei 225 (æ—¥æœ¬)
    - TPX: TOPIX (æ—¥æœ¬)
    - AS51: ASX 200 (æ¾³æ´²)
    - STI: Straits Times Index (æ–°åŠ å¡)
    - KOSPI: KOSPI 200 (éŸ©å›½)
```

**æ–°å…´å¸‚åœºæŒ‡æ•° (8ä¸ª):**
```yaml
tier2-indices:
  æ–°å…´äºšæ´²:
    - SENSEX: BSE Sensex (å°åº¦)
    - NIFTY: NSE Nifty 50 (å°åº¦)
    - SET: SET Index (æ³°å›½)
    - PCOMP: PSEi (è²å¾‹å®¾)
    
  æ–°å…´ç¾æ´²:
    - IBOV: Bovespa Index (å·´è¥¿)
    - IPSA: IPSA (æ™ºåˆ©)
    
  æ–°å…´æ¬§é:
    - RTS: RTS Index (ä¿„ç½—æ–¯)
    - TOP40: FTSE/JSE Top 40 (å—é)
```

**è¡Œä¸šETFæŒ‡æ•° (11ä¸ª):**
```yaml
sector-etfs:
  ç§‘æŠ€: XLK (Technology Select Sector SPDR)
  é‡‘è: XLF (Financial Select Sector SPDR) 
  åŒ»ç–—: XLV (Health Care Select Sector SPDR)
  èƒ½æº: XLE (Energy Select Sector SPDR)
  æ¶ˆè´¹: XLY (Consumer Discretionary SPDR)
  å¿…éœ€æ¶ˆè´¹: XLP (Consumer Staples SPDR)
  å·¥ä¸š: XLI (Industrial Select Sector SPDR)
  ææ–™: XLB (Materials Select Sector SPDR)
  å…¬ç”¨äº‹ä¸š: XLU (Utilities Select Sector SPDR)
  æˆ¿åœ°äº§: XLRE (Real Estate Select Sector SPDR)
  é€šè®¯: XLC (Communication Services SPDR)
```

**æ€»è®¡: 42ä¸ªæŒ‡æ•°/ETF**

#### æŒ‡æ•°é‡‡é›†ä¼˜åŠ¿

**ç›¸æ¯”ä¸ªè‚¡é‡‡é›†çš„ä¼˜åŠ¿:**
- âœ… **æ•°æ®é‡å‡å°‘99%**: ä»4000+ä¸ªè‚¡é™è‡³42ä¸ªæŒ‡æ•°
- âœ… **æˆæœ¬é™ä½95%**: APIè°ƒç”¨æ¬¡æ•°å¤§å¹…å‡å°‘
- âœ… **è¦†ç›–åº¦æ›´å…¨**: æŒ‡æ•°ä»£è¡¨æ•´ä¸ªå¸‚åœºèµ„é‡‘æµå‘
- âœ… **æ•°æ®è´¨é‡æ›´é«˜**: æŒ‡æ•°æ•°æ®æ›´åŠ æ ‡å‡†åŒ–å’Œå¯é 
- âœ… **å®æ—¶æ€§æ›´å¥½**: æ›´å®¹æ˜“è·å¾—å®æ—¶æ•°æ®
- âœ… **ç»´æŠ¤ç®€å•**: æŒ‡æ•°æ„æˆç›¸å¯¹ç¨³å®š

**æ”¯æŒçš„åˆ†æç»´åº¦:**
- ğŸ“Š **åœ°ç†ç»´åº¦**: ä¸åŒå›½å®¶/åœ°åŒºå¸‚åœºå¯¹æ¯”
- ğŸ’° **å¸‚å€¼ç»´åº¦**: å¤§ç›˜è‚¡(SPY) vs å°ç›˜è‚¡(IWM)
- ğŸ­ **è¡Œä¸šç»´åº¦**: 11ä¸ªä¸»è¦è¡Œä¸šETFå¯¹æ¯”
- ğŸ“ˆ **é£æ ¼ç»´åº¦**: æˆé•¿å‹ vs ä»·å€¼å‹æŒ‡æ•°
- ğŸŒ **å‘è¾¾vsæ–°å…´**: å‘è¾¾å¸‚åœº vs æ–°å…´å¸‚åœºèµ„é‡‘æµå‘

**åŠŸèƒ½è¦æ±‚:**
- æ”¯æŒå¤šæ•°æ®æºå¹¶è¡Œé‡‡é›†
- å®ç°æ•°æ®æºå¥åº·ç›‘æ§å’Œè‡ªåŠ¨åˆ‡æ¢
- æä¾›é‡‡é›†è¿›åº¦å’ŒçŠ¶æ€ç›‘æ§
- æ”¯æŒæ–­ç‚¹ç»­ä¼ å’Œå¤±è´¥é‡è¯•
- è®°å½•è¯¦ç»†çš„é‡‡é›†æ—¥å¿—

##### US-002B-1B: è‚¡ç¥¨æ•°æ®åŠ å·¥
**ä½œä¸º** ç³»ç»Ÿç®¡ç†å‘˜  
**æˆ‘å¸Œæœ›** ç³»ç»Ÿèƒ½å¤Ÿæ™ºèƒ½åŠ å·¥åŸå§‹è‚¡ç¥¨æ•°æ®  
**ä»¥ä¾¿äº** ç”Ÿæˆé«˜è´¨é‡çš„èµ„é‡‘æµåˆ†ææ•°æ®

**éªŒæ”¶æ ‡å‡†:**
- WHEN æ¥æ”¶åˆ°åŸå§‹æ•°æ®æ—¶ THEN ç³»ç»Ÿåº”è¿›è¡Œæ•°æ®æ¸…æ´—å’Œæ ¼å¼æ ‡å‡†åŒ–
- WHEN æ•°æ®ä¸å®Œæ•´æ—¶ THEN ç³»ç»Ÿåº”ä»è‚¡ç¥¨å…ƒæ•°æ®åº“è¡¥å……ç¼ºå¤±ä¿¡æ¯
- WHEN å¤„ç†OHLCVæ•°æ®æ—¶ THEN ç³»ç»Ÿåº”æ ¹æ®Plan Aç®—æ³•è®¡ç®—å‡€èµ„é‡‘æµå…¥/æµå‡º
- WHEN å¤„ç†èµ„é‡‘æµæ•°æ®æ—¶ THEN ç³»ç»Ÿåº”ç›´æ¥ä½¿ç”¨Plan Bçš„ç°æˆæµå…¥/æµå‡ºæ•°æ®
- WHEN åŠ å·¥å®Œæˆæ—¶ THEN ç³»ç»Ÿåº”è¿›è¡Œ13ç»´åº¦æ™ºèƒ½åˆ†ç±»å¹¶è¯„ä¼°æ•°æ®è´¨é‡

**åŠŸèƒ½è¦æ±‚:**
- å®ç°Plan Aå’ŒPlan Bä¸¤å¥—æ•°æ®å¤„ç†ç®—æ³•
- æ”¯æŒ13ç»´åº¦è‡ªåŠ¨åˆ†ç±»ï¼ˆåœ°ç†ã€è´§å¸ã€å¸‚å€¼ã€é£æ ¼ç­‰ï¼‰
- æä¾›æ•°æ®è´¨é‡è¯„åˆ†å’Œå¼‚å¸¸æ£€æµ‹
- å®ç°æ•°æ®å»é‡å’Œä¸€è‡´æ€§æ£€æŸ¥
- æ”¯æŒæ‰¹é‡å’Œæµå¼æ•°æ®å¤„ç†

##### US-002B-1C: è‚¡ç¥¨èµ„é‡‘æµå‘æ•°æ®æŸ¥è¯¢
**ä½œä¸º** æŠ•èµ„ç»ç†  
**æˆ‘å¸Œæœ›** èƒ½å¤ŸæŸ¥è¯¢å’Œåˆ†æè‚¡ç¥¨èµ„é‡‘æµå‘æ•°æ®  
**ä»¥ä¾¿äº** åšå‡ºæŠ•èµ„å†³ç­–å’Œäº†è§£å¸‚åœºè¶‹åŠ¿

**éªŒæ”¶æ ‡å‡†:**
- WHEN ç”¨æˆ·é€‰æ‹©è‚¡ç¥¨ç±»åˆ« THEN ç³»ç»Ÿåº”æ˜¾ç¤ºå…¨çƒä¸»è¦è‚¡å¸‚çš„å‡€æµå…¥/æµå‡ºæ€»é¢ï¼Œå“åº”æ—¶é—´<2ç§’
- WHEN ç”¨æˆ·æŸ¥çœ‹è‚¡ç¥¨ç»†åˆ† THEN ç³»ç»Ÿåº”æä¾›æŒ‰å¸‚å€¼åˆ†ç±»ï¼ˆå¤§ç›˜è‚¡ã€ä¸­å°ç›˜è‚¡ï¼‰çš„èµ„é‡‘æµå‘æ•°æ®
- WHEN ç”¨æˆ·æŸ¥çœ‹é£æ ¼åˆ†ç±» THEN ç³»ç»Ÿåº”æ˜¾ç¤ºæˆé•¿è‚¡vsä»·å€¼è‚¡çš„èµ„é‡‘æµå‘å¯¹æ¯”åˆ†æ
- WHEN ç”¨æˆ·æŸ¥çœ‹è¡Œä¸šåˆ†å¸ƒ THEN ç³»ç»Ÿåº”æ˜¾ç¤ºä¸»è¦è¡Œä¸šæ¿å—çš„èµ„é‡‘æµå…¥æµå‡ºæƒ…å†µå’Œæ’å
- WHEN ç”¨æˆ·è¯·æ±‚å®æ—¶æ›´æ–° THEN å‰ç«¯åº”é€šè¿‡WebSocketæ¥æ”¶æœ€æ–°æ•°æ®å¹¶è‡ªåŠ¨åˆ·æ–°ç•Œé¢

**åŠŸèƒ½è¦æ±‚:**
- æä¾›REST APIæ¥å£æ”¯æŒå„ç§æŸ¥è¯¢æ¡ä»¶
- å®ç°æ•°æ®ç¼“å­˜æé«˜æŸ¥è¯¢æ€§èƒ½
- æ”¯æŒWebSocketå®æ—¶æ•°æ®æ¨é€
- æä¾›å‹å¥½çš„å‰ç«¯ç•Œé¢å±•ç¤ºåˆ†æç»“æœ
- æ”¯æŒæ•°æ®å¯¼å‡ºåŠŸèƒ½ï¼ˆCSVã€Excelæ ¼å¼ï¼‰

## éªŒæ”¶æ ‡å‡†

### åŠŸèƒ½éªŒæ”¶æ ‡å‡†

#### US-002B-1: è‚¡ç¥¨ç±»åˆ«åˆ†æ
**WHEN** ç”¨æˆ·é€‰æ‹©è‚¡ç¥¨ç±»åˆ« **THEN** ç³»ç»Ÿåº”æ˜¾ç¤ºå…¨çƒä¸»è¦è‚¡å¸‚çš„å‡€æµå…¥/æµå‡ºæ€»é¢ï¼Œå“åº”æ—¶é—´<2ç§’
**WHEN** ç”¨æˆ·æŸ¥çœ‹è‚¡ç¥¨ç»†åˆ† **THEN** ç³»ç»Ÿåº”æä¾›æŒ‰å¸‚å€¼åˆ†ç±»ï¼ˆå¤§ç›˜è‚¡ã€ä¸­å°ç›˜è‚¡ï¼‰çš„èµ„é‡‘æµå‘æ•°æ®
**WHEN** ç”¨æˆ·æŸ¥çœ‹é£æ ¼åˆ†ç±» **THEN** ç³»ç»Ÿåº”æ˜¾ç¤ºæˆé•¿è‚¡vsä»·å€¼è‚¡çš„èµ„é‡‘æµå‘å¯¹æ¯”åˆ†æ
**WHEN** ç”¨æˆ·æŸ¥çœ‹è¡Œä¸šåˆ†å¸ƒ **THEN** ç³»ç»Ÿåº”æ˜¾ç¤ºä¸»è¦è¡Œä¸šæ¿å—çš„èµ„é‡‘æµå…¥æµå‡ºæƒ…å†µå’Œæ’å
**IF** æŸä¸ªç»†åˆ†ç±»åˆ«æ— æ•°æ® **THEN** ç³»ç»Ÿåº”æ˜¾ç¤º"æš‚æ— æ•°æ®"æç¤ºå¹¶å»ºè®®æŸ¥çœ‹æ€»ä½“è‚¡å¸‚æ•°æ®


### æ€§èƒ½éªŒæ”¶æ ‡å‡†
- APIå“åº”æ—¶é—´ < 2ç§’
- æ”¯æŒå¹¶å‘æŸ¥è¯¢ > 100 QPS
- æ•°æ®æ›´æ–°å»¶è¿Ÿ < 5åˆ†é’Ÿ
- ç³»ç»Ÿå¯ç”¨æ€§ > 99.5%

### è´¨é‡éªŒæ”¶æ ‡å‡†
- æ•°æ®å‡†ç¡®ç‡ > 99%
- å¼‚å¸¸æ•°æ®æ£€æµ‹ç‡ > 95%
- ç”¨æˆ·ç•Œé¢æ˜“ç”¨æ€§è¯„åˆ† > 4.0/5.0

## æŠ€æœ¯å®ç°

### æ•°æ®æºé…ç½®

#### æŒ‰èµ„äº§ç±»åˆ«åˆ†ç»„çš„æ•°æ®æº
```yaml
asset-categories:
  stock:
    primary-sources: ["eastmoney", "tonghuashun", "polygon"]
    fallback-sources: ["alpha-vantage", "yahoo-finance"]
    markets: ["NYSE", "NASDAQ", "SSE", "SZSE", "HKEX", "TSE"]
    
  bond:
    primary-sources: ["bloomberg-bond", "tradeweb"]
    fallback-sources: ["fred-api", "treasury-direct"]
    markets: ["US_TREASURY", "CORPORATE_BOND", "MUNICIPAL_BOND"]
    
  forex:
    primary-sources: ["oanda", "fxcm", "reuters-fx"]
    fallback-sources: ["yahoo-fx", "exchangerates-api"]
    markets: ["SPOT_FX", "FX_FUTURES", "FX_OPTIONS"]
    
  commodity:
    primary-sources: ["cme-group", "ice-futures", "lme"]
    fallback-sources: ["yahoo-commodity", "investing-com"]
    markets: ["PRECIOUS_METALS", "ENERGY", "AGRICULTURE", "INDUSTRIAL_METALS"]
    
  real-estate:
    primary-sources: ["reit-data", "real-capital"]
    fallback-sources: ["yahoo-reits", "nareit"]
    markets: ["US_REITS", "GLOBAL_REITS", "DIRECT_RE"]
    
  crypto:
    primary-sources: ["coinbase-pro", "binance", "kraken"]
    fallback-sources: ["coingecko", "coinmarketcap"]
    markets: ["BTC", "ETH", "MAJOR_ALTS", "DEFI"]
    
  cash:
    primary-sources: ["money-market-funds", "treasury-bills"]
    fallback-sources: ["fed-data", "bank-deposits"]
    markets: ["MMF", "TB", "CD", "SAVINGS"]
    
  alternative:
    primary-sources: ["preqin", "pitchbook"]
    fallback-sources: ["hedge-fund-research"]
    markets: ["PRIVATE_EQUITY", "HEDGE_FUNDS", "INFRASTRUCTURE"]
    
  spot-trading:
    primary-sources: ["trade-finance", "commodity-spot"]
    fallback-sources: ["shipping-data", "warehouse-receipts"]
    markets: ["PHYSICAL_DELIVERY", "SPOT_MARKETS"]
```

### APIè®¾è®¡

#### èµ„äº§ç±»åˆ«ç»Ÿä¸€æŸ¥è¯¢æ¥å£
```http
GET /api/v1/cash-flows/asset-categories/{category}
```

**å‚æ•°:**
- `category`: èµ„äº§ç±»åˆ« (stock, bond, forex, commodity, real-estate, crypto, cash, alternative, spot-trading)
- `timeRange`: æ—¶é—´èŒƒå›´ (1h, 4h, 1d, 1w, 1m, 3m, 1y)
- `granularity`: æ•°æ®ç²’åº¦ (5m, 15m, 1h, 4h, 1d)
- `subCategory`: å­ç±»åˆ«ç­›é€‰ (å¯é€‰)
- `region`: åœ°åŒºç­›é€‰ (å¯é€‰)

**å“åº”æ ¼å¼:**
```json
{
  "success": true,
  "data": {
    "assetCategory": "stock",
    "timeRange": "1d",
    "summary": {
      "totalNetInflow": 2500000000,
      "totalVolume": 120000000000,
      "flowIntensity": 2.08,
      "activeInstruments": 1250,
      "lastUpdated": "2025-01-17T15:30:00Z"
    },
    "breakdown": {
      "bySubCategory": [
        {
          "name": "Large Cap",
          "netInflow": 1800000000,
          "percentage": 72.0,
          "change24h": 15.2
        },
        {
          "name": "Mid Cap", 
          "netInflow": 500000000,
          "percentage": 20.0,
          "change24h": -8.5
        },
        {
          "name": "Small Cap",
          "netInflow": 200000000,
          "percentage": 8.0,
          "change24h": 22.1
        }
      ],
      "byRegion": [
        {
          "region": "North America",
          "netInflow": 1500000000,
          "percentage": 60.0
        },
        {
          "region": "Asia Pacific",
          "netInflow": 700000000,
          "percentage": 28.0
        },
        {
          "region": "Europe",
          "netInflow": 300000000,
          "percentage": 12.0
        }
      ]
    },
    "trends": {
      "hourlyData": [
        {
          "timestamp": "2025-01-17T14:00:00Z",
          "netInflow": 150000000,
          "volume": 8500000000
        }
        // ... æ›´å¤šå°æ—¶æ•°æ®
      ],
      "movingAverages": {
        "ma24h": 145000000,
        "ma7d": 135000000,
        "ma30d": 125000000
      }
    },
    "alerts": [
      {
        "type": "HIGH_INFLOW",
        "message": "Large Capè‚¡ç¥¨èµ„é‡‘æµå…¥è¶…è¿‡24å°æ—¶å‡å€¼50%",
        "severity": "INFO",
        "timestamp": "2025-01-17T15:25:00Z"
      }
    ]
  },
  "metadata": {
    "dataSources": ["eastmoney", "polygon", "alpha-vantage"],
    "dataQuality": "HIGH",
    "coverage": "95.2%",
    "latency": "4.2s"
  }
}
```

#### èµ„äº§ç±»åˆ«å¯¹æ¯”åˆ†ææ¥å£
```http
POST /api/v1/cash-flows/asset-categories/compare
```

**è¯·æ±‚ä½“:**
```json
{
  "categories": ["stock", "bond", "commodity"],
  "timeRange": "7d",
  "metrics": ["netInflow", "volume", "volatility"],
  "normalization": "percentage"
}
```

## å®æ–½è®¡åˆ’

### Phase 1: æ ¸å¿ƒèµ„äº§ç±»åˆ« (4å‘¨)
- [x] US-002B-1: è‚¡ç¥¨ç±»åˆ«åˆ†æ (å·²å®Œæˆ)
- [ ] US-002B-2: å€ºåˆ¸ç±»åˆ«åˆ†æ
- [ ] US-002B-3: å¤–æ±‡ç±»åˆ«åˆ†æ

### Phase 2: æ‰©å±•èµ„äº§ç±»åˆ« (3å‘¨)
- [ ] US-002B-4: å¤§å®—å•†å“ç±»åˆ«åˆ†æ
- [ ] US-002B-6: åŠ å¯†è´§å¸ç±»åˆ«åˆ†æ
- [ ] US-002B-7: ç°é‡‘ç±»èµ„äº§åˆ†æ

### Phase 3: ç‰¹æ®Šèµ„äº§ç±»åˆ« (2å‘¨)
- [ ] US-002B-5: æˆ¿åœ°äº§ç±»åˆ«åˆ†æ
- [ ] US-002B-8: å¦ç±»æŠ•èµ„ç±»åˆ«åˆ†æ
- [ ] US-002B-9: ç°è´§è´¸æ˜“ç±»åˆ«åˆ†æ

### Phase 4: é›†æˆå’Œä¼˜åŒ– (2å‘¨)
- [ ] è·¨èµ„äº§ç±»åˆ«å¯¹æ¯”åˆ†æ
- [ ] èµ„äº§è½®åŠ¨åˆ†æ
- [ ] æ™ºèƒ½é¢„è­¦å’Œå¼‚å¸¸æ£€æµ‹
- [ ] æ€§èƒ½ä¼˜åŒ–å’Œå‹åŠ›æµ‹è¯•

## ç›‘æ§å’Œè´¨é‡ä¿è¯

### å…³é”®æŒ‡æ ‡ç›‘æ§
- å„èµ„äº§ç±»åˆ«æ•°æ®é‡‡é›†æˆåŠŸç‡
- APIå“åº”æ—¶é—´åˆ†å¸ƒ
- æ•°æ®è´¨é‡è¯„åˆ†è¶‹åŠ¿
- ç”¨æˆ·æŸ¥è¯¢é¢‘æ¬¡åˆ†æ

### è´¨é‡ä¿è¯æªæ–½
- å¤šæºæ•°æ®äº¤å‰éªŒè¯
- å¼‚å¸¸æ•°æ®è‡ªåŠ¨æ£€æµ‹
- å®æ—¶æ•°æ®è´¨é‡ç›‘æ§
- ç”¨æˆ·åé¦ˆæ”¶é›†æœºåˆ¶

### é£é™©æ§åˆ¶
- æ•°æ®æºå¤±æ•ˆè‡ªåŠ¨åˆ‡æ¢
- æœåŠ¡é™çº§ç­–ç•¥
- ç¼“å­˜é¢„çƒ­æœºåˆ¶
- å®¹é‡è‡ªåŠ¨æ‰©ç¼©

## æ–‡æ¡£å’ŒåŸ¹è®­

### æŠ€æœ¯æ–‡æ¡£
- APIæ–‡æ¡£å’Œä½¿ç”¨ç¤ºä¾‹
- æ•°æ®æºé…ç½®æŒ‡å—
- æ•…éšœæ’é™¤æ‰‹å†Œ
- æ€§èƒ½è°ƒä¼˜æŒ‡å—

### ç”¨æˆ·æ–‡æ¡£
- åŠŸèƒ½ä½¿ç”¨æŒ‡å—
- æœ€ä½³å®è·µå»ºè®®
- å¸¸è§é—®é¢˜è§£ç­”
- æ¡ˆä¾‹åˆ†ææŠ¥å‘Š

---

**ç‰ˆæœ¬**: 1.0  
**åˆ›å»ºæ—¥æœŸ**: 2025-01-17  
**æœ€åæ›´æ–°**: 2025-01-17  
**è´Ÿè´£äºº**: èµ„é‡‘æµåŠ¨ç›‘æ§ç³»ç»Ÿå¼€å‘å›¢é˜Ÿ
